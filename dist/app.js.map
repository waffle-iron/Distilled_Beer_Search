{"version":3,"sources":["../app.js"],"names":["app","use","json","urlencoded","extended","static","join","__dirname","set","engine","require","renderFile","req","res","next","header","method","status","get","render","listen","process","env","PORT","console","log","address","port","settings","module","exports"],"mappings":"AAAA;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;;AAEA;AACAA,IAAIC,GAAJ,CAAQ,qBAAWC,IAAX,EAAR;AACAF,IAAIC,GAAJ,CAAQ,qBAAWE,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;;AAEA;AACAJ,IAAIC,GAAJ,CAAQ,kBAAQI,MAAR,CAAe,eAAKC,IAAL,CAAUC,YAAY,UAAtB,CAAf,CAAR;;AAEA;AACAP,IAAIQ,GAAJ,CAAQ,OAAR,EAAiBD,YAAY,UAA7B;AACAP,IAAIS,MAAJ,CAAW,MAAX,EAAmBC,QAAQ,KAAR,EAAeC,UAAlC;AACAX,IAAIQ,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;;AAEA;AACAR,IAAIC,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAEA;AACAD,IAAIC,GAAJ,CAAQ,GAAR;;AAEAD,IAAIC,GAAJ,CAAQ,UAAUW,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC9BD,MAAIE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACA,MAAIH,IAAII,MAAJ,KAAe,SAAnB,EAA8B;AAC5BH,QAAIE,MAAJ,CAAW,8BAAX,EAA2C,qBAA3C;AACA,WAAOF,IAAII,MAAJ,CAAW,GAAX,EAAgBf,IAAhB,CAAqB,EAArB,CAAP;AACD;;AAEDY;AACD,CATH;;AAWA;AACAd,IAAIkB,GAAJ,CAAQ,GAAR,EAAa,UAAUN,GAAV,EAAeC,GAAf,EAAoB;AAC7BA,MAAIM,MAAJ,CAAW,YAAX;AACD,CAFH;;AAIA;AACAnB,IAAIoB,MAAJ,CAAWC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAA/B,EAAqC,YAAY;AAC7CC,UAAQC,GAAR,CAAY,gDAAZ,EACE,KAAKC,OAAL,GAAeC,IADjB,EACuB3B,IAAI4B,QAAJ,CAAaN,GADpC;AAED,CAHH;;AAKAO,OAAOC,OAAP,GAAiB9B,GAAjB","file":"app.js","sourcesContent":["'use strict';\n\nimport express from 'express';\nimport routes from './routes';\n\nimport bodyParser from 'body-parser';\nimport path from 'path';\nimport logger from 'morgan';\n\nconst app = express();\n\n// parse incoming requests\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\n\n// point static dir to build root\napp.use(express.static(path.join(__dirname + '/wwwroot')));\n\n// setup view engine with ejs\napp.set('views', __dirname + '/wwwroot');\napp.engine('html', require('ejs').renderFile);\napp.set('view engine', 'html');\n\n// Use morgan as logger\napp.use(logger('dev'));\n\n// routes files\napp.use('/', routes);\n\napp.use(function (req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*');\n    res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n    if (req.method === 'OPTIONS') {\n      res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE');\n      return res.status(200).json({});\n    }\n\n    next();\n  });\n\n// error handler\napp.get('*', function (req, res) {\n    res.render('error.html');\n  });\n\n//listen to port 3000 when locally\napp.listen(process.env.PORT || 3000, function () {\n    console.log('Express server listening on port %d in %s mode',\n      this.address().port, app.settings.env);\n  });\n\nmodule.exports = app;\n"]}